base_config: base_config.yaml

model:
  num_layers: 8          
  future_horizon: 3
  d_embed: 512
  pretrained_input_dim: 512
  latent_summary_enabled: false
  # latent_summary_num_latents: 8

data:
  future_horizon: 3
  num_full_res_frames: 5
  # history_prefix_frames: 10

training:
  objective: residue_centric

  res_ce_weight: 2.0
  res_js_weight: 1.0
  alignment_loss_weight: 1.0
  # change_upweight: 10.0

  # optimization
  learning_rate: 1.0e-4
  label_smoothing: 0.02
  
  # Slowly introduce model's own predictions to bridge train/eval gap
  scheduled_sampling_p: 0.5

  # scheduler (overrides base_config defaults)
  use_scheduler: true
  # Full dataset: ~150,000 samples / 4 batch = 37,500 batches. 37,500 / 32 accum = ~1172 steps/epoch
  estimated_steps_per_epoch: 1172
  # Standard warmup
  warmup_steps: 1000
  max_epochs: 5      

  grad_accum_steps: 32
  # No train_only_proteins -> uses full dataset

experiment:
  run_name: "res_centric_full_dataset_K5F3_JS0.1_align"
  tags: ["residue_centric", "full_dataset", "alignment"]

